### HW10. Развертывание rancher c авторизацией через LDAP
``` 
Написать Ansible playbook (структура ролей и тасок на свое усмотрение, желательно использовать best practice подход)

Playbook должен включать следующий функционал:

1. проверить env на предмет соотвествия требованиям (linux, docker, etc..)
2. запустить OpenLDAP в docker со сконфигурированными юзерами и паролями
3. запусть Rancher в докере
4. сделать базовую конфигурацию Rancher (сменить дефолтный пароль, получить апи ключ)
5. интегрировать Rancher с OpenLDAP
6. сделать проверку, залогинившись к креденшилами юзера OpenLDAP в Rancher

подсказки по выполнению работ есть на видео
т.к. плейбук достаточтно сложный для базового уровня знания Ansible - если где-то застрянете на половине или неуспеете 
выполнить задание в полном обьеме - оправляйте ту часть которая работает с описанием что именно не получилось сделать 
и с какими трудностями столкнулись

комментарии и оформление конечно желательно, но больше буду оценивать работоспособность и сам функционал кода playbook.
```
### Use the ping module to ping the nodes in our inventory
``` 
$ ansible servers -u ansible -m ping
192.168.0.109 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
```
### Check syntax playbook
``` 
ansible-playbook --syntax-check servers.yml

playbook: servers.yml
```
### Run playbook
``` 
$ ansible-playbook servers.yml
PLAY [Install Openldap + Rancher] ***********************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [docker : Update repositories cache and install docker dependencies] *******************************************************************************************************************************************************************
ok: [192.168.0.109] => (item=apt-transport-https)
ok: [192.168.0.109] => (item=ca-certificates)
ok: [192.168.0.109] => (item=software-properties-common)
ok: [192.168.0.109] => (item=curl)
ok: [192.168.0.109] => (item=gnupg)
ok: [192.168.0.109] => (item=lsb-release)

TASK [docker : Add docker repo apt key] *****************************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [docker : Add Docker Repository] *******************************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [docker : Update apt and install docker] ***********************************************************************************************************************************************************************************************
ok: [192.168.0.109] => (item=docker-ce)
ok: [192.168.0.109] => (item=docker-ce-cli)
ok: [192.168.0.109] => (item=containerd.io)

TASK [docker : Start and enable systemd service docker] *************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [docker : Add user to docker group] ****************************************************************************************************************************************************************************************************
ok: [192.168.0.109] => (item=ubuntu)
ok: [192.168.0.109] => (item=ansible)

TASK [docker : Install docker-compose] ******************************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [docker : Create a symbolic link] ******************************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [openldap : Create a directories] ******************************************************************************************************************************************************************************************************
ok: [192.168.0.109] => (item=openldap)

TASK [openldap : Create docker-compose.yml file] ********************************************************************************************************************************************************************************************
changed: [192.168.0.109]

TASK [openldap : Deploy Docker Compose] *****************************************************************************************************************************************************************************************************
ok: [192.168.0.109]

TASK [openldap : Run docker-compose] ********************************************************************************************************************************************************************************************************
changed: [192.168.0.109]

TASK [rancher : Create a directories] *******************************************************************************************************************************************************************************************************
ok: [192.168.0.109] => (item=rancher)

TASK [rancher : Create docker-compose.yml file] *********************************************************************************************************************************************************************************************
changed: [192.168.0.109]

TASK [rancher : Deploy Docker Compose] ******************************************************************************************************************************************************************************************************
changed: [192.168.0.109]

TASK [rancher : Run docker-compose] *********************************************************************************************************************************************************************************************************
changed: [192.168.0.109]

PLAY RECAP **********************************************************************************************************************************************************************************************************************************
192.168.0.109              : ok=17   changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```
![screen shot web page](https://github.com/v-kostyukov/ithillel-tasks/blob/master/HW10/img/screen1.png)
![screen shot web page](https://github.com/v-kostyukov/ithillel-tasks/blob/master/HW10/img/screen2.png)
![screen shot web page](https://github.com/v-kostyukov/ithillel-tasks/blob/master/HW10/img/screen3.png)